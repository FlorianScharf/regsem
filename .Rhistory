med3 <- 0*iv + rnorm(nobs)
med1 <- as.numeric(scale(med1));med2 <- as.numeric(scale(med2));med3 <- as.numeric(scale(med3))
h1 <- 1*med1 + rnorm(nobs);h2 <- 1*med1 + rnorm(nobs);h3 <- 1*med1 + rnorm(nobs);
g1 <- 1*med2 + rnorm(nobs);g2 <- 1*med2 + rnorm(nobs);g3 <- 1*med2 + rnorm(nobs);
k1 <- 1*med3 + rnorm(nobs);k2 <- 1*med3 + rnorm(nobs);k3 <- 1*med3 + rnorm(nobs);
dv <- 0.8*med1 + 0.2*med2 + 0*med3 + 0.5*iv + rnorm(nobs)
dat <- cbind(iv,h1,h2,h3,g1,g2,g3,k1,k2,k3,med1,med2,med3,dv)
#dat[,2:14] <- scale(dat[,2:14])
lav.mod <-"
med1 =~ h1 + h2 + h3
med2 =~ g1 + g2 + g3
med3 =~ k1 + k2 + k3
#med1~~1*med1;med2~~1*med2;med3~~1*med3
med1 ~ iv
med2 ~ iv
med3 ~ iv
dv ~ med1 + med2 + med3 + iv
"
lav.out <- sem(lav.mod,dat)
summary(lav.out)
extractMatrices(lav.out)["A"]
system.time(cv.out3 <- cv_regsem(lav.out,type="enet",pars_pen=c(7:9,10:12),optMethod="coord_desc",
solver=FALSE,gradFun="ram",quasi=TRUE,hessFun="none",n.lambda=40,jump=.3))
system.time(cv.out3 <- cv_regsem(lav.out,type="enet",pars_pen=c(7:9,10:12),optMethod="coord_desc",
solver=FALSE,gradFun="ram",quasi=TRUE,hessFun="none",n.lambda=10,jump=.3))
plot(cv.out3)
system.time(cv.out3 <- cv_regsem(lav.out,type="enet",pars_pen=c(7:9,10:12),optMethod="coord_desc",
solver=FALSE,gradFun="ram",quasi=TRUE,hessFun="none",n.lambda=5,jump=.3))
plot(cv.out3)
library(regsem)
library(regsem)
system.time(cv.out3 <- cv_regsem(lav.out,type="enet",pars_pen=c(7:9,10:12),optMethod="coord_desc",step=0.5,
solver=FALSE,gradFun="ram",quasi=TRUE,hessFun="none",n.lambda=5,jump=.3))
plot(cv.out3)
cv.out3
library(regsem)
system.time(cv.out2 <- cv_regsem(lav.out,type="enet",pars_pen=c(7:9,10:12),optMethod="coord_desc",
solver=FALSE,gradFun="ram",quasi=FALSE,hessFun="none",n.lambda=25,jump=.1,step=.5))
system.time(cv.out3 <- cv_regsem(lav.out,type="enet",pars_pen=c(7:9,10:12),optMethod="coord_desc",step=0.5,
solver=FALSE,gradFun="ram",quasi=TRUE,hessFun="none",n.lambda=5,jump=.3))
?cv_regsem
system.time(cv.out3 <- cv_regsem(lav.out,type="enet",pars_pen=c(7:9,10:12),optMethod="coord_desc",step=0.2,
solver=FALSE,gradFun="ram",quasi=TRUE,hessFun="none",n.lambda=5,jump=.3))
plot(cv.out3)
system.time(cv.out3 <- cv_regsem(lav.out,type="enet",pars_pen=c(7:9,10:12),optMethod="coord_desc",step=0.1,
solver=FALSE,gradFun="ram",quasi=TRUE,hessFun="none",n.lambda=5,jump=.3))
plot(cv.out3)
system.time(cv.out3 <- cv_regsem(lav.out,type="enet",pars_pen=c(7:9,10:12),optMethod="coord_desc",step=0.1,
solver=FALSE,gradFun="ram",quasi=TRUE,hessFun="none",n.lambda=20,jump=.3))
system.time(cv.out3 <- cv_regsem(lav.out,type="enet",pars_pen=c(7:9,10:12),optMethod="coord_desc",step=0.1,
solver=FALSE,gradFun="ram",quasi=TRUE,hessFun="none",n.lambda=20,jump=.1))
plot(cv.out3)
system.time(cv.out3 <- cv_regsem(lav.out,type="enet",pars_pen=c(7:9,10:12),optMethod="coord_desc",step=1,
solver=FALSE,gradFun="ram",quasi=TRUE,hessFun="none",n.lambda=5,jump=.1))
library(regsem)
system.time(cv.out3 <- cv_regsem(lav.out,type="enet",pars_pen=c(7:9,10:12),optMethod="coord_desc",step=1,
solver=FALSE,gradFun="ram",quasi=TRUE,hessFun="none",n.lambda=5,jump=.1))
plot(cv.out3)
system.time(cv.out3 <- cv_regsem(lav.out,type="enet",pars_pen=c(7:9,10:12),optMethod="coord_desc",step=1,
solver=FALSE,gradFun="ram",quasi=TRUE,hessFun="none",n.lambda=5,jump=1))
plot(cv.out3)
system.time(cv.out3 <- cv_regsem(lav.out,type="enet",pars_pen=c(7:9,10:12),optMethod="coord_desc",step=1,
solver=FALSE,gradFun="ram",quasi=TRUE,hessFun="none",n.lambda=20,jump=1))
plot(cv.out3)
system.time(cv.out3 <- cv_regsem(lav.out,type="enet",pars_pen=c(7:9,10:12),optMethod="coord_desc",step=1,
solver=FALSE,gradFun="ram",quasi=TRUE,hessFun="none",n.lambda=60,jump=.3))
cv.out3
cv.out3
nobs=200
iv <- rbinom(nobs,1,0.5)
med1 <- 0.5*iv + rnorm(nobs)
med2 <- 0.2*iv + rnorm(nobs)
med3 <- 0*iv + rnorm(nobs)
med1 <- as.numeric(scale(med1));med2 <- as.numeric(scale(med2));med3 <- as.numeric(scale(med3))
h1 <- 1*med1 + rnorm(nobs);h2 <- 1*med1 + rnorm(nobs);h3 <- 1*med1 + rnorm(nobs);
g1 <- 1*med2 + rnorm(nobs);g2 <- 1*med2 + rnorm(nobs);g3 <- 1*med2 + rnorm(nobs);
k1 <- 1*med3 + rnorm(nobs);k2 <- 1*med3 + rnorm(nobs);k3 <- 1*med3 + rnorm(nobs);
dv <- 0.2*med1 + 0.2*med2 + 0*med3 + 0.5*iv + rnorm(nobs)
dat <- cbind(iv,h1,h2,h3,g1,g2,g3,k1,k2,k3,med1,med2,med3,dv)
#dat[,2:14] <- scale(dat[,2:14])
nobs=200
iv <- rbinom(nobs,1,0.5)
med1 <- 0.5*iv + rnorm(nobs)
med2 <- 0.2*iv + rnorm(nobs)
med3 <- 0*iv + rnorm(nobs)
med1 <- as.numeric(scale(med1));med2 <- as.numeric(scale(med2));med3 <- as.numeric(scale(med3))
h1 <- 1*med1 + rnorm(nobs);h2 <- 1*med1 + rnorm(nobs);h3 <- 1*med1 + rnorm(nobs);
g1 <- 1*med2 + rnorm(nobs);g2 <- 1*med2 + rnorm(nobs);g3 <- 1*med2 + rnorm(nobs);
k1 <- 1*med3 + rnorm(nobs);k2 <- 1*med3 + rnorm(nobs);k3 <- 1*med3 + rnorm(nobs);
dv <- 0.5*med1 + 0.2*med2 + 0*med3 + 0.5*iv + rnorm(nobs)
dat <- cbind(iv,h1,h2,h3,g1,g2,g3,k1,k2,k3,med1,med2,med3,dv)
#dat[,2:14] <- scale(dat[,2:14])
lav.mod <-"
med1 =~ h1 + h2 + h3
med2 =~ g1 + g2 + g3
med3 =~ k1 + k2 + k3
#med1~~1*med1;med2~~1*med2;med3~~1*med3
med1 ~ iv
med2 ~ iv
med3 ~ iv
dv ~ med1 + med2 + med3 + iv
"
lav.out <- sem(lav.mod,dat)
summary(lav.out)
library(regsem)
system.time(cv.out3 <- cv_regsem(lav.out,type="enet",pars_pen=c(7:9,10:12),optMethod="coord_desc",step=.5,
solver=FALSE,gradFun="ram",quasi=TRUE,hessFun="none",n.lambda=5,jump=.3))
plot(cv.out3)
system.time(cv.out3 <- cv_regsem(lav.out,type="enet",pars_pen=c(7:9,10:12),optMethod="coord_desc",step=.5,
solver=FALSE,gradFun="ram",quasi=TRUE,hessFun="none",n.lambda=15,jump=.3))
system.time(cv.out3 <- cv_regsem(lav.out,type="enet",pars_pen=c(7:9,10:12),optMethod="coord_desc",step=.2,
solver=FALSE,gradFun="ram",quasi=TRUE,hessFun="none",n.lambda=15,jump=.3))
system.time(cv.out3 <- cv_regsem(lav.out,type="enet",pars_pen=c(7:9,10:12),optMethod="coord_desc",step=.5,
solver=FALSE,gradFun="ram",quasi=TRUE,hessFun="none",n.lambda=5,jump=.3))
system.time(cv.out3 <- cv_regsem(lav.out,type="enet",pars_pen=c(7:9,10:12),optMethod="coord_desc",step=.5,
solver=FALSE,gradFun="ram",quasi=TRUE,hessFun="none",n.lambda=15,jump=.1))
plot(cv.out3)
library(regsem)
system.time(cv.out3 <- cv_regsem(lav.out,type="enet",pars_pen=c(7:9,10:12),optMethod="coord_desc",step=.5,
solver=FALSE,gradFun="ram",quasi=TRUE,hessFun="none",n.lambda=15,jump=.1))
plot(cv.out3)
?nlminb
library(regsem)
system.time(cv.out3 <- cv_regsem(lav.out,type="enet",pars_pen=c(7:9,10:12),optMethod="coord_desc",step=.5,
solver=FALSE,gradFun="ram",quasi=TRUE,hessFun="none",n.lambda=15,jump=.1))
system.time(cv.out3 <- cv_regsem(lav.out,type="enet",pars_pen=c(7:9,10:12),optMethod="coord_desc",step=.5,
solver=FALSE,gradFun="ram",quasi=TRUE,hessFun="none",n.lambda=5,jump=.1))
plot(cv.out3)
library(regsem)
system.time(cv.out3 <- cv_regsem(lav.out,type="enet",pars_pen=c(7:9,10:12),optMethod="coord_desc",step=.5,
solver=FALSE,gradFun="ram",quasi=TRUE,hessFun="none",n.lambda=5,jump=.1))
plot(cv.out3)
system.time(cv.out3 <- cv_regsem(lav.out,type="enet",pars_pen=c(7:9,10:12),optMethod="coord_desc",step=.5,
solver=FALSE,gradFun="ram",quasi=TRUE,hessFun="none",n.lambda=15,jump=.1))
plot(cv.out3)
library(regsem)
system.time(cv.out3 <- cv_regsem(lav.out,type="enet",pars_pen=c(7:9,10:12),optMethod="coord_desc",step=.5,
solver=FALSE,gradFun="ram",quasi=TRUE,hessFun="none",n.lambda=15,jump=.1))
plot(cv.out3)
library(regsem)
library(regsem)
system.time(cv.out3 <- cv_regsem(lav.out,type="enet",pars_pen=c(7:9,10:12),optMethod="coord_desc",step=.5,
solver=FALSE,gradFun="ram",quasi=TRUE,hessFun="none",n.lambda=15,jump=.1))
plot(cv.out3)
library(regsem)
system.time(cv.out3 <- cv_regsem(lav.out,type="enet",pars_pen=c(7:9,10:12),optMethod="coord_desc",step=.5,
solver=FALSE,gradFun="ram",quasi=TRUE,hessFun="none",n.lambda=15,jump=.1))
plot(cv.out3)
system.time(cv.out3 <- cv_regsem(lav.out,type="enet",pars_pen=c(7:9,10:12),optMethod="coord_desc",step=.5,
solver=FALSE,gradFun="ram",quasi=TRUE,hessFun="none",n.lambda=30,jump=.1))
plot(cv.out3)
system.time(cv.out3 <- cv_regsem(lav.out,type="enet",pars_pen=c(7:9,10:12),optMethod="coord_desc",step=.5,tol=1e-6,
solver=FALSE,gradFun="ram",quasi=TRUE,hessFun="none",n.lambda=30,jump=.1))
plot(cv.out3)
?optim
library(regsem)
system.time(cv.out3 <- cv_regsem(lav.out,type="enet",pars_pen=c(7:9,10:12),optMethod="coord_desc",step=.5,tol=1e-6,
solver=FALSE,gradFun="ram",quasi=TRUE,hessFun="none",n.lambda=15,jump=.1))
system.time(cv.out3 <- cv_regsem(lav.out,type="enet",pars_pen=c(7:9,10:12),optMethod="coord_desc",step=.5,tol=1e-6,
solver=FALSE,gradFun="ram",quasi=TRUE,hessFun="none",n.lambda=10,jump=.1))
plot(cv.out3)
library(regsem)
system.time(cv.out3 <- cv_regsem(lav.out,type="enet",pars_pen=c(7:9,10:12),optMethod="coord_desc",step=.5,tol=1e-6,
solver=FALSE,gradFun="ram",quasi=TRUE,hessFun="none",n.lambda=10,jump=.1))
library(regsem)
system.time(cv.out3 <- cv_regsem(lav.out,type="enet",pars_pen=c(7:9,10:12),optMethod="coord_desc",step=.5,tol=1e-6,
solver=FALSE,gradFun="ram",quasi=TRUE,hessFun="none",n.lambda=10,jump=.1))
library(regsem)
system.time(cv.out3 <- cv_regsem(lav.out,type="enet",pars_pen=c(7:9,10:12),optMethod="coord_desc",step=.5,tol=1e-6,
solver=FALSE,gradFun="ram",quasi=TRUE,hessFun="none",n.lambda=10,jump=.1))
system.time(cv.out3 <- cv_regsem(lav.out,type="enet",pars_pen=c(7:9,10:12),optMethod="coord_desc",step=.5,tol=1e-6,
solver=FALSE,gradFun="ram",quasi=TRUE,hessFun="none",n.lambda=10,jump=.1,multi_optim=FALSE))
library(regsem)
system.time(cv.out3 <- cv_regsem(lav.out,type="enet",pars_pen=c(7:9,10:12),optMethod="coord_desc",step=.5,tol=1e-6,
solver=FALSE,gradFun="ram",quasi=TRUE,hessFun="none",n.lambda=10,jump=.1,multi_optim=FALSE))
library(regsem)
library(regsem)
system.time(cv.out3 <- cv_regsem(lav.out,type="enet",pars_pen=c(7:9,10:12),optMethod="coord_desc",step=.1,
solver=FALSE,gradFun="ram",quasi=TRUE,hessFun="none",n.lambda=10,jump=.1,multi_optim=FALSE))
plot(cv.out3)
system.time(cv.out3 <- cv_regsem(lav.out,type="enet",pars_pen=c(7:9,10:12),optMethod="coord_desc",step=.1,
solver=FALSE,gradFun="ram",quasi=TRUE,hessFun="none",n.lambda=10,jump=1,multi_optim=FALSE))
plot(cv.out3)
system.time(cv.out3 <- cv_regsem(lav.out,type="enet",pars_pen=c(7:9,10:12),optMethod="coord_desc",step=.1,
solver=FALSE,gradFun="ram",quasi=TRUE,hessFun="none",n.lambda=20,jump=.5,multi_optim=FALSE))
plot(cv.out3)
library(regsem)
library(regsem)
library(regsem)
system.time(cv.out3 <- cv_regsem(lav.out,type="enet",pars_pen=c(7:9,10:12),optMethod="coord_desc",step=.1,
solver=FALSE,gradFun="ram",quasi=TRUE,hessFun="none",n.lambda=5,jump=.1,multi_optim=FALSE))
plot(cv.out3)
system.time(cv.out3 <- cv_regsem(lav.out,type="enet",pars_pen=c(7:9,10:12),optMethod="coord_desc",step=.1,
solver=FALSE,gradFun="ram",quasi=TRUE,hessFun="none",n.lambda=20,jump=.1,multi_optim=FALSE))
plot(cv.out3)
system.time(cv.out3 <- cv_regsem(lav.out,type="enet",pars_pen=c(7:9,10:12),optMethod="coord_desc",step=.1,
solver=FALSE,gradFun="ram",quasi=TRUE,hessFun="none",n.lambda=20,jump=.1,multi_optim=FALSE))
plot(cv.out3)
system.time(cv.out3 <- cv_regsem(lav.out,type="enet",pars_pen=c(7:9,10:12),optMethod="coord_desc",step=1,
solver=FALSE,gradFun="ram",quasi=TRUE,hessFun="none",n.lambda=20,jump=.1,multi_optim=FALSE))
library(regsem)
system.time(cv.out3 <- cv_regsem(lav.out,type="enet",pars_pen=c(7:9,10:12),optMethod="coord_desc",step=.1,
solver=FALSE,gradFun="ram",quasi=TRUE,hessFun="none",n.lambda=20,jump=.1,multi_optim=FALSE))
plot(cv.out3)
system.time(cv.out3 <- cv_regsem(lav.out,type="enet",pars_pen=c(7:9,10:12),optMethod="coord_desc",step=.2,
solver=FALSE,gradFun="ram",quasi=TRUE,hessFun="none",n.lambda=20,jump=.1,multi_optim=FALSE))
plot(cv.out3)
system.time(cv.out3 <- cv_regsem(lav.out,type="enet",pars_pen=c(7:9,10:12),optMethod="coord_desc",step=.2,
solver=FALSE,gradFun="ram",quasi=TRUE,hessFun="none",n.lambda=40,jump=.1,multi_optim=FALSE))
plot(cv.out3)
library(regsem)
system.time(cv.out3 <- cv_regsem(lav.out,type="enet",pars_pen=c(7:9,10:12),optMethod="coord_desc",step=.2,
solver=FALSE,gradFun="ram",quasi=TRUE,hessFun="none",n.lambda=40,jump=.1,multi_optim=FALSE))
library(regsem)
system.time(cv.out3 <- cv_regsem(lav.out,type="enet",pars_pen=c(7:9,10:12),optMethod="coord_desc",step=.2,
solver=FALSE,gradFun="ram",quasi=TRUE,hessFun="none",n.lambda=40,jump=.1,multi_optim=FALSE))
library(regsem)
system.time(cv.out3 <- cv_regsem(lav.out,type="enet",pars_pen=c(7:9,10:12),optMethod="coord_desc",step=.2,
solver=FALSE,gradFun="ram",quasi=TRUE,hessFun="none",n.lambda=40,jump=.1,multi_optim=FALSE))
library(regsem)
system.time(cv.out3 <- cv_regsem(lav.out,type="enet",pars_pen=c(7:9,10:12),optMethod="coord_desc",step=.2,
solver=FALSE,gradFun="ram",quasi=TRUE,hessFun="none",n.lambda=5,jump=.1,multi_optim=FALSE))
library(regsem)
system.time(cv.out3 <- cv_regsem(lav.out,type="enet",pars_pen=c(7:9,10:12),optMethod="coord_desc",step=.2,
solver=FALSE,gradFun="ram",quasi=TRUE,hessFun="none",n.lambda=5,jump=.1,multi_optim=FALSE))
library(regsem)
library(regsem)
system.time(cv.out3 <- cv_regsem(lav.out,type="enet",pars_pen=c(7:9,10:12),optMethod="coord_desc",step=.2,
solver=FALSE,gradFun="ram",quasi=TRUE,hessFun="none",n.lambda=5,jump=.1,multi_optim=FALSE))
library(regsem)
system.time(cv.out3 <- cv_regsem(lav.out,type="enet",pars_pen=c(7:9,10:12),optMethod="coord_desc",step=.2,
solver=FALSE,gradFun="ram",quasi=TRUE,hessFun="none",n.lambda=5,jump=.1,multi_optim=FALSE))
library(regsem)
system.time(cv.out3 <- cv_regsem(lav.out,type="enet",pars_pen=c(7:9,10:12),optMethod="coord_desc",step=.2,
solver=FALSE,gradFun="ram",quasi=TRUE,hessFun="none",n.lambda=5,jump=.1,multi_optim=FALSE))
library(regsem)
system.time(cv.out3 <- cv_regsem(lav.out,type="enet",pars_pen=c(7:9,10:12),optMethod="coord_desc",step=.2,
solver=FALSE,gradFun="ram",quasi=TRUE,hessFun="none",n.lambda=5,jump=.1,multi_optim=FALSE))
library(regsem)
system.time(cv.out3 <- cv_regsem(lav.out,type="enet",pars_pen=c(7:9,10:12),optMethod="coord_desc",step=.2,
solver=FALSE,gradFun="ram",quasi=TRUE,hessFun="none",n.lambda=5,jump=.1,multi_optim=FALSE))
library(regsem)
library(regsem)
system.time(cv.out3 <- cv_regsem(lav.out,type="enet",pars_pen=c(7:9,10:12),optMethod="coord_desc",step=.2,
solver=FALSE,gradFun="ram",quasi=TRUE,hessFun="none",n.lambda=5,jump=.1,multi_optim=FALSE))
library(regsem)
system.time(cv.out3 <- cv_regsem(lav.out,type="enet",pars_pen=c(7:9,10:12),optMethod="coord_desc",step=.2,
solver=FALSE,gradFun="ram",quasi=TRUE,hessFun="none",n.lambda=5,jump=.1,multi_optim=FALSE))
library(regsem)
system.time(cv.out3 <- cv_regsem(lav.out,type="enet",pars_pen=c(7:9,10:12),optMethod="coord_desc",step=.2,
solver=FALSE,gradFun="ram",quasi=TRUE,hessFun="none",n.lambda=5,jump=.1,multi_optim=FALSE))
library(regsem)
library(regsem)
system.time(cv.out3 <- cv_regsem(lav.out,type="enet",pars_pen=c(7:9,10:12),optMethod="coord_desc",step=.2,
solver=FALSE,gradFun="ram",quasi=TRUE,hessFun="none",n.lambda=5,jump=.1,multi_optim=FALSE))
system.time(cv.out3 <- cv_regsem(lav.out,type="enet",pars_pen=c(7:9,10:12),optMethod="coord_desc",step=.2,
solver=FALSE,gradFun="ram",quasi=TRUE,hessFun="none",n.lambda=3,jump=.1,multi_optim=FALSE))
plot(cv.out3)
cv.out3
library(regsem)
system.time(cv.out3 <- cv_regsem(lav.out,type="enet",pars_pen=c(7:9,10:12),optMethod="coord_desc",step=.2,
solver=FALSE,gradFun="ram",quasi=TRUE,hessFun="none",n.lambda=3,jump=.1,multi_optim=FALSE))
plot(cv.out3)
system.time(cv.out3 <- cv_regsem(lav.out,type="enet",pars_pen=c(7:9,10:12),optMethod="coord_desc",step=.2,
solver=FALSE,gradFun="ram",quasi=TRUE,hessFun="none",n.lambda=6,jump=.1,multi_optim=FALSE))
plot(cv.out3)
system.time(cv.out3 <- cv_regsem(lav.out,type="enet",pars_pen=c(7:9,10:12),optMethod="coord_desc",step=.2,
solver=FALSE,gradFun="ram",quasi=TRUE,hessFun="none",n.lambda=15,jump=.1,multi_optim=FALSE))
plot(cv.out3)
system.time(cv.out3 <- cv_regsem(lav.out,type="enet",pars_pen=c(7:9,10:12),optMethod="coord_desc",step=.2,
solver=FALSE,gradFun="ram",quasi=TRUE,hessFun="none",n.lambda=15,jump=.1,multi_optim=FALSE))
library(regsem)
system.time(cv.out3 <- cv_regsem(lav.out,type="enet",pars_pen=c(7:9,10:12),optMethod="coord_desc",step=.2,
solver=FALSE,gradFun="ram",quasi=TRUE,hessFun="none",n.lambda=15,jump=.1,multi_optim=FALSE))
system.time(cv.out3 <- cv_regsem(lav.out,type="enet",pars_pen=c(7:9,10:12),optMethod="coord_desc",step=.2,
solver=FALSE,gradFun="ram",quasi=TRUE,hessFun="none",n.lambda=15,jump=.1,multi_optim=FALSE))
plot(cv.out3)
system.time(cv.out3 <- cv_regsem(lav.out,type="enet",pars_pen=c(7:9,10:12),optMethod="coord_desc",step=.2,
solver=FALSE,gradFun="ram",quasi=TRUE,hessFun="none",n.lambda=25,jump=.1,multi_optim=FALSE))
library(regsem)
system.time(cv.out3 <- cv_regsem(lav.out,type="enet",pars_pen=c(7:9,10:12),optMethod="coord_desc",step=.2,
solver=FALSE,gradFun="ram",quasi=TRUE,hessFun="none",n.lambda=25,jump=.1,multi_optim=FALSE))
system.time(cv.out3 <- cv_regsem(lav.out,type="enet",pars_pen=c(7:9,10:12),optMethod="coord_desc",step=.2,
solver=FALSE,gradFun="ram",quasi=TRUE,hessFun="none",n.lambda=20,jump=.1,multi_optim=FALSE))
plot(cv.out3)
library(regsem)
system.time(cv.out3 <- cv_regsem(lav.out,type="enet",pars_pen=c(7:9,10:12),optMethod="coord_desc",step=.2,
solver=FALSE,gradFun="ram",quasi=TRUE,hessFun="none",n.lambda=20,jump=.1,multi_optim=FALSE))
plot(cv.out3)
library(regsem)
system.time(cv.out3 <- cv_regsem(lav.out,type="enet",pars_pen=c(7:9,10:12),optMethod="coord_desc",step=.2,
solver=FALSE,gradFun="ram",quasi=TRUE,hessFun="none",n.lambda=20,jump=.1,multi_optim=FALSE))
plot(cv.out3)
library(regsem)
system.time(cv.out3 <- cv_regsem(lav.out,type="enet",pars_pen=c(7:9,10:12),optMethod="coord_desc",step=.2,
solver=FALSE,gradFun="ram",quasi=TRUE,hessFun="none",n.lambda=20,jump=.1,multi_optim=FALSE))
plot(cv.out3)
?norm
library(regsem)
system.time(cv.out3 <- cv_regsem(lav.out,type="enet",pars_pen=c(7:9,10:12),optMethod="coord_desc",step=.2,
solver=FALSE,gradFun="ram",quasi=TRUE,hessFun="none",n.lambda=20,jump=.1,multi_optim=FALSE))
library(regsem)
system.time(cv.out3 <- cv_regsem(lav.out,type="enet",pars_pen=c(7:9,10:12),optMethod="coord_desc",step=.2,
solver=FALSE,gradFun="ram",quasi=TRUE,hessFun="none",n.lambda=20,jump=.1,multi_optim=FALSE))
library(regsem)
system.time(cv.out3 <- cv_regsem(lav.out,type="enet",pars_pen=c(7:9,10:12),optMethod="coord_desc",step=.2,
solver=FALSE,gradFun="ram",quasi=TRUE,hessFun="none",n.lambda=20,jump=.1,multi_optim=FALSE))
plot(cv.out3)
system.time(cv.out3 <- cv_regsem(lav.out,type="enet",pars_pen=c(7:9,10:12),optMethod="coord_desc",step=.2,
solver=FALSE,gradFun="ram",quasi=TRUE,hessFun="none",n.lambda=20,jump=.2,multi_optim=FALSE))
plot(cv.out3)
system.time(cv.out3 <- cv_regsem(lav.out,type="enet",pars_pen=c(7:9,10:12),optMethod="coord_desc",step=.2,
solver=FALSE,gradFun="ram",quasi=TRUE,hessFun="none",n.lambda=20,jump=.3,multi_optim=FALSE))
library(regsem)
system.time(cv.out3 <- cv_regsem(lav.out,type="enet",pars_pen=c(7:9,10:12),optMethod="coord_desc",step=.2,
solver=FALSE,gradFun="ram",quasi=TRUE,hessFun="none",n.lambda=20,jump=.3,multi_optim=FALSE))
library(regsem)
system.time(cv.out3 <- cv_regsem(lav.out,type="enet",pars_pen=c(7:9,10:12),optMethod="coord_desc",step=.2,
solver=FALSE,gradFun="ram",quasi=TRUE,hessFun="none",n.lambda=20,jump=.3,multi_optim=FALSE))
plot(cv.out3)
system.time(cv.out3 <- cv_regsem(lav.out,type="enet",pars_pen=c(7:9,10:12),optMethod="coord_desc",step=.2,
solver=FALSE,gradFun="ram",quasi=TRUE,hessFun="none",n.lambda=20,jump=.1,multi_optim=FALSE))
plot(cv.out3)
system.time(cv.out3 <- cv_regsem(lav.out,type="enet",pars_pen=c(7:9,10:12),optMethod="coord_desc",
solver=FALSE,gradFun="ram",quasi=TRUE,hessFun="none",n.lambda=20,jump=.1,multi_optim=FALSE))
plot(cv.out3)
system.time(cv.out2 <- cv_regsem(lav.out,type="enet",pars_pen=c(7:9,10:12),optMethod="coord_desc",
solver=FALSE,gradFun="ram",quasi=FALSE,hessFun="none",n.lambda=25,jump=.1,step=.5))
cv.out2
plot(cv.out2)
system.time(cv.out2 <- cv_regsem(lav.out,type="enet",pars_pen=c(7:9,10:12),optMethod="coord_desc",
solver=FALSE,gradFun="ram",quasi=FALSE,hessFun="none",n.lambda=25,jump=.1,step=.1))
plot(cv.out2)
library(regsem)
library(regsem)
xx = list()
for(i in 1:70){
xx[i] = paste("x", i, sep = "")
}
uu = list()
for(i in 1:length(xx)){
uu[i] = paste("0*",xx[i],sep="")
}
reg.list = paste(uu,collapse="+")
sim.list = list()
sim.list[[1]] = "f1 =~ y1 + 0.8*y2 + 1.2*y3 + 0.8*y4 + 0.5*y5 + 1.5*y6
"
sim.list[[2]] = paste(paste("f1"," ~ "), reg.list)
sim.list[[3]] = "
f1 ~ 0.2*x71 + 0.2*x72 + 0.2*x73 + 0.2*x74 + 0.2*x75 + 0.2*x76 + 0.2*x77 + 0.2*x78 + 0.2*x79 + 0.2*x80
"
sim.list[[4]] = "
f1 ~ 0.5*x81 + 0.5*x82 + 0.5*x83 + 0.5*x84 + 0.5*x85 + 0.5*x86 + 0.5*x87 + 0.5*x88 + 0.5*x89 + 0.5*x90
"
sim.list[[5]] = "
f1 ~ 1*x91 + 1*x92 + 1*x93 + 1*x94 + 1*x95 + 1*x96 + 1*x97 + 1*x98 + 1*x99 + 1*x100
"
xxx = list()
for(i in 1:100){
xxx[i] = paste("x", i, sep = "")
}
#### create collinearity
val = 0
uuu = list()
for(i in 1:(length(xxx)-1)){
uuu[i] = paste(xxx[i],"~~val*",xxx[i+1],sep="")
}
sim.list[[6]] = paste(uuu,collapse=";")
pop.mod = " "
for(i in 1:length(sim.list)){
pop.mod = paste(pop.mod,sim.list[[i]],sep="\n")
}
reg.list2 = paste(xxx,collapse="+")
run.list = list()
run.list[[1]] = "f1 =~ y1 + y2 + y3 + y4 + y5 + y6
"
run.list[[2]] = paste(paste("f1"," ~ "), reg.list2)
run.mod = " "
for(k in 1:length(run.list)){
run.mod = paste(run.mod,run.list[[k]],sep="\n")
}
dat <- simulateData(pop.mod,sample.nobs=200,fixed.x=TRUE)
dat2 <- dat
dat2[,7:106] <- scale(dat[,7:106])
lav.out <- try(lavaan::sem(run.mod,dat2,fixed.x=TRUE),silent=TRUE)
summary(lav.out)
mat <- extractMatrices(lav.out)["A"] # options(max.print=10000000)
system.time(enet.sim2 <- cv_regsem(lav.out,n.lambda=15,jump=.1,tol=1e-5,type="enet",
pars_pen=c(6:105),max.iter=200,multi.iter=3,
fit.ret=c("BIC","rmsea","AIC","CAIC","EBIC.5","EBIC.25"),
fit.ret2="train",mult.start=FALSE,solver=FALSE,quasi=TRUE,hessFun="none"))
enet.sim2
plot(enet.sim2)
library(regsem)
system.time(enet.sim2 <- cv_regsem(lav.out,n.lambda=7,jump=.1,tol=1e-5,type="enet",
pars_pen=c(6:105),max.iter=200,multi.iter=3,
fit.ret=c("BIC","rmsea","AIC","CAIC","EBIC.5","EBIC.25"),
fit.ret2="train",mult.start=FALSE,solver=FALSE,quasi=TRUE,hessFun="none"))
library(regsem)
system.time(enet.sim2 <- cv_regsem(lav.out,n.lambda=7,jump=.1,tol=1e-5,type="enet",
pars_pen=c(6:105),max.iter=200,multi.iter=3,
fit.ret=c("BIC","rmsea","AIC","CAIC","EBIC.5","EBIC.25"),
fit.ret2="train",mult.start=FALSE,solver=FALSE,quasi=TRUE,hessFun="none"))
library(regsem)
system.time(enet.sim2 <- cv_regsem(lav.out,n.lambda=7,jump=.1,tol=1e-5,type="enet",
pars_pen=c(6:105),max.iter=200,multi.iter=3,
fit.ret=c("BIC","rmsea","AIC","CAIC","EBIC.5","EBIC.25"),
fit.ret2="train",mult.start=FALSE,solver=FALSE,quasi=TRUE,hessFun="none"))
system.time(enet.sim2 <- cv_regsem(lav.out,n.lambda=7,jump=.1,tol=1e-5,type="enet",
pars_pen=c(6:105),max.iter=200,multi.iter=3,
fit.ret=c("BIC","rmsea","AIC","CAIC","EBIC.5","EBIC.25"),
fit.ret2="train",mult.start=FALSE,solver=FALSE,quasi=TRUE,hessFun="none"))
library(regsem)
system.time(enet.sim2 <- cv_regsem(lav.out,n.lambda=7,jump=.1,tol=1e-5,type="enet",
pars_pen=c(6:105),max.iter=200,multi.iter=3,
fit.ret=c("BIC","rmsea","AIC","CAIC","EBIC.5","EBIC.25"),
fit.ret2="train",mult.start=FALSE,solver=FALSE,quasi=TRUE,hessFun="none"))
enet.sim2
plot(enet.sim2)
library(regsem)
system.time(enet.sim2 <- cv_regsem(lav.out,n.lambda=7,jump=.1,tol=1e-5,type="enet",
pars_pen=c(6:105),max.iter=200,multi.iter=3,
fit.ret=c("BIC","rmsea","AIC","CAIC","EBIC.5","EBIC.25"),
fit.ret2="train",mult.start=FALSE,solver=FALSE,quasi=TRUE,hessFun="none"))
library(regsem)
library(regsem)
system.time(enet.sim2 <- cv_regsem(lav.out,n.lambda=7,jump=.1,tol=1e-5,type="enet",
pars_pen=c(6:105),max.iter=200,multi.iter=3,
fit.ret=c("BIC","rmsea","AIC","CAIC","EBIC.5","EBIC.25"),
fit.ret2="train",mult.start=FALSE,solver=FALSE,quasi=TRUE,hessFun="none"))
library(regsem)
system.time(enet.sim2 <- cv_regsem(lav.out,n.lambda=7,jump=.1,tol=1e-5,type="enet",
pars_pen=c(6:105),max.iter=200,multi.iter=3,
fit.ret=c("BIC","rmsea","AIC","CAIC","EBIC.5","EBIC.25"),
fit.ret2="train",mult.start=FALSE,solver=FALSE,quasi=TRUE,hessFun="none"))
library(regsem)
library(regsem)
system.time(enet.sim2 <- cv_regsem(lav.out,n.lambda=7,jump=.1,tol=1e-5,type="enet",
pars_pen=c(6:105),max.iter=200,multi.iter=3,
fit.ret=c("BIC","rmsea","AIC","CAIC","EBIC.5","EBIC.25"),
fit.ret2="train",mult.start=FALSE,solver=FALSE,quasi=TRUE,hessFun="none"))
library(regsem)
system.time(enet.sim2 <- cv_regsem(lav.out,n.lambda=7,jump=.3,tol=1e-5,type="enet",
pars_pen=c(6:105),max.iter=200,multi.iter=3,
fit.ret=c("BIC","rmsea","AIC","CAIC","EBIC.5","EBIC.25"),
fit.ret2="train",mult.start=FALSE,solver=FALSE,quasi=TRUE,hessFun="none"))
library(regsem)
system.time(enet.sim2 <- cv_regsem(lav.out,n.lambda=7,jump=.3,tol=1e-5,type="enet",
pars_pen=c(6:105),max.iter=200,multi.iter=3,
fit.ret=c("BIC","rmsea","AIC","CAIC","EBIC.5","EBIC.25"),
fit.ret2="train",mult.start=FALSE,solver=FALSE,quasi=TRUE,hessFun="none"))
library(regsem)
system.time(enet.sim2 <- cv_regsem(lav.out,n.lambda=7,jump=.3,tol=1e-5,type="enet",
pars_pen=c(6:105),max.iter=200,multi.iter=3,
fit.ret=c("BIC","rmsea","AIC","CAIC","EBIC.5","EBIC.25"),
fit.ret2="train",mult.start=FALSE,solver=FALSE,quasi=TRUE,hessFun="none"))
library(regsem)
system.time(enet.sim2 <- cv_regsem(lav.out,n.lambda=7,jump=.3,tol=1e-5,type="enet",
pars_pen=c(6:105),max.iter=200,multi.iter=3,
fit.ret=c("BIC","rmsea","AIC","CAIC","EBIC.5","EBIC.25"),
fit.ret2="train",mult.start=FALSE,solver=FALSE,quasi=TRUE,hessFun="none"))
library(regsem)
system.time(enet.sim2 <- cv_regsem(lav.out,n.lambda=7,jump=.3,tol=1e-5,type="enet",
pars_pen=c(6:105),max.iter=200,multi.iter=3,
fit.ret=c("BIC","rmsea","AIC","CAIC","EBIC.5","EBIC.25"),
fit.ret2="train",mult.start=FALSE,solver=FALSE,quasi=TRUE,hessFun="none"))
library(regsem)
system.time(enet.sim2 <- cv_regsem(lav.out,n.lambda=7,jump=.3,tol=1e-5,type="enet",
pars_pen=c(6:105),max.iter=200,multi.iter=3,
fit.ret=c("BIC","rmsea","AIC","CAIC","EBIC.5","EBIC.25"),
fit.ret2="train",mult.start=FALSE,solver=FALSE,quasi=TRUE,hessFun="none"))
library(regsem)
1>1
library(regsem)
system.time(enet.sim2 <- cv_regsem(lav.out,n.lambda=7,jump=.3,tol=1e-5,type="enet",
pars_pen=c(6:105),max.iter=200,multi.iter=3,
fit.ret=c("BIC","rmsea","AIC","CAIC","EBIC.5","EBIC.25"),
fit.ret2="train",mult.start=FALSE,solver=FALSE,quasi=TRUE,hessFun="none"))
library(regsem)
system.time(enet.sim2 <- cv_regsem(lav.out,n.lambda=7,jump=.3,tol=1e-5,type="enet",
pars_pen=c(6:105),max.iter=200,multi.iter=3,
fit.ret=c("BIC","rmsea","AIC","CAIC","EBIC.5","EBIC.25"),
fit.ret2="train",mult.start=FALSE,solver=FALSE,quasi=TRUE,hessFun="none"))
system.time(enet.sim2 <- cv_regsem(lav.out,n.lambda=7,jump=.3,tol=1e-5,type="enet",
pars_pen=c(6:105),max.iter=200,multi.iter=3,
fit.ret=c("BIC","rmsea","AIC","CAIC","EBIC.5","EBIC.25"),
fit.ret2="train",mult.start=FALSE,solver=FALSE,quasi=TRUE,hessFun="none"))
library(regsem)
system.time(enet.sim2 <- cv_regsem(lav.out,n.lambda=7,jump=.3,tol=1e-5,type="enet",
pars_pen=c(6:105),max.iter=200,multi.iter=3,
fit.ret=c("BIC","rmsea","AIC","CAIC","EBIC.5","EBIC.25"),
fit.ret2="train",mult.start=FALSE,solver=FALSE,quasi=TRUE,hessFun="none"))
library(regsem)
system.time(enet.sim2 <- cv_regsem(lav.out,n.lambda=7,jump=.3,tol=1e-5,type="enet",
pars_pen=c(6:105),max.iter=200,multi.iter=3,
fit.ret=c("BIC","rmsea","AIC","CAIC","EBIC.5","EBIC.25"),
fit.ret2="train",mult.start=FALSE,solver=FALSE,quasi=TRUE,hessFun="none"))
library(regsem)
system.time(enet.sim2 <- cv_regsem(lav.out,n.lambda=7,jump=.3,tol=1e-5,type="enet",
pars_pen=c(6:105),max.iter=200,multi.iter=3,
fit.ret=c("BIC","rmsea","AIC","CAIC","EBIC.5","EBIC.25"),
fit.ret2="train",mult.start=FALSE,solver=FALSE,quasi=TRUE,hessFun="none"))
library(regsem)
system.time(enet.sim2 <- cv_regsem(lav.out,n.lambda=7,jump=.3,tol=1e-5,type="enet",
pars_pen=c(6:105),max.iter=200,multi.iter=3,
fit.ret=c("BIC","rmsea","AIC","CAIC","EBIC.5","EBIC.25"),
fit.ret2="train",mult.start=FALSE,solver=FALSE,quasi=TRUE,hessFun="none"))
library(regsem)
system.time(enet.sim2 <- cv_regsem(lav.out,n.lambda=7,jump=.3,tol=1e-5,type="enet",
pars_pen=c(6:105),max.iter=200,multi.iter=3,
fit.ret=c("BIC","rmsea","AIC","CAIC","EBIC.5","EBIC.25"),
fit.ret2="train",mult.start=FALSE,solver=FALSE,quasi=TRUE,hessFun="none"))
