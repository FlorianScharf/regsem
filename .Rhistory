ret.mat[count,2] <- sum(abs(pars[1:100]) > .001)
ret.mat[count,4] <- sum(reg.out[[2]][,"conv"] != 0)
}
}
ret.mat
}
library(snowfall)
sfStop()
sfInit(T,2)
iters <- seq(1,2)
sfLibrary(regsem);sfLibrary(lavaan)
snowfall::sfExport("run.mod","pop.mod","sim.big")
mat.list = snowfall::sfLapply(iters, sim.big)
install.packages("snowfall")
library(snowfall)
sfStop()
sfInit(T,2)
iters <- seq(1,2)
sfLibrary(regsem);sfLibrary(lavaan)
snowfall::sfExport("run.mod","pop.mod","sim.big")
mat.list = snowfall::sfLapply(iters, sim.big)
Ns <- c(100,200,300)
ret.mat <- matrix(NA,length(Ns),4)
for(count in 1:length(Ns)){
dat <- simulateData(pop.mod,sample.nobs=Ns[count],fixed.x=TRUE)
ret.mat[count,3] <- Ns[count]
lav.out <- try(lavaan::sem(run.mod,dat,fixed.x=TRUE),silent=TRUE)
if(inherits(lav.out, "try-error")){
lav.out <- lavaan::sem(run.mod,dat,fixed.x=TRUE,do.fit=FALSE)
}else{
pars.lav <- parTable(lav.out)[7:106,]
ret.mat[count,1] <- sum((abs(pars.lav[,13]) - 2*pars.lav[,14]) > 0)
}
# add stopping criterion to cv_regsem, where if all penalized pars = 0 then stop sequence
reg.out <- try(cv_regsem(lav.out,n.lambda=7,jump=0.03,mult.start=TRUE,mult.iter=2,
max.iter=300,tol=1e-4,
type="lasso",pars_pen=c(6:111)),silent=TRUE)
if(inherits(reg.out, "try-error")){
ret.mat[count,2] <- NA
}else{
loc <- which(reg.out[[2]][,"BIC"] == min(reg.out[[2]][,"BIC"]))
pars <- reg.out[[1]][loc,6:111]
ret.mat[count,2] <- sum(abs(pars[1:100]) > .001)
ret.mat[count,4] <- sum(reg.out[[2]][,"conv"] != 0)
}
}
count
dat <- simulateData(pop.mod,sample.nobs=Ns[count],fixed.x=TRUE)
ret.mat[count,3] <- Ns[count]
lav.out <- try(lavaan::sem(run.mod,dat,fixed.x=TRUE),silent=TRUE)
if(inherits(lav.out, "try-error")){
lav.out <- lavaan::sem(run.mod,dat,fixed.x=TRUE,do.fit=FALSE)
}else{
pars.lav <- parTable(lav.out)[7:106,]
ret.mat[count,1] <- sum((abs(pars.lav[,13]) - 2*pars.lav[,14]) > 0)
}
reg.out <- try(cv_regsem(lav.out,n.lambda=7,jump=0.03,mult.start=TRUE,mult.iter=2,
max.iter=300,tol=1e-4,
type="lasso",pars_pen=c(6:111)),silent=TRUE)
Ns <- c(150,225,300)
ret.mat <- matrix(NA,length(Ns),4)
dat <- simulateData(pop.mod,sample.nobs=Ns[count],fixed.x=TRUE)
ret.mat[count,3] <- Ns[count]
lav.out <- try(lavaan::sem(run.mod,dat,fixed.x=TRUE),silent=TRUE)
if(inherits(lav.out, "try-error")){
lav.out <- lavaan::sem(run.mod,dat,fixed.x=TRUE,do.fit=FALSE)
}else{
pars.lav <- parTable(lav.out)[7:106,]
ret.mat[count,1] <- sum((abs(pars.lav[,13]) - 2*pars.lav[,14]) > 0)
}
# add stopping criterion to cv_regsem, where if all penalized pars = 0 then stop sequence
reg.out <- try(cv_regsem(lav.out,n.lambda=7,jump=0.03,mult.start=TRUE,mult.iter=2,
max.iter=300,tol=1e-4,
type="lasso",pars_pen=c(6:111)),silent=TRUE)
library(regsem)
library(regsem)
reg.out <- try(cv_regsem(lav.out,n.lambda=7,jump=0.03,mult.start=TRUE,mult.iter=2,
max.iter=300,tol=1e-4,
type="lasso",pars_pen=c(6:111)),silent=TRUE)
library(regsem)
reg.out <- try(cv_regsem(lav.out,n.lambda=7,jump=0.03,mult.start=FALSE,
max.iter=300,tol=1e-4,
type="lasso",pars_pen=c(6:111)),silent=TRUE)
reg.out <- try(cv_regsem(lav.out,n.lambda=7,jump=0.03,mult.start=FALSE,
max.iter=300,tol=1e-4,step=.1,
type="lasso",pars_pen=c(6:111)),silent=TRUE)
reg.out <- try(cv_regsem(lav.out,n.lambda=7,jump=0.03,mult.start=FALSE,
max.iter=30,tol=1e-4,step=.1,
type="lasso",pars_pen=c(6:111)),silent=TRUE)
reg.out <- try(cv_regsem(lav.out,n.lambda=7,jump=0.03,mult.start=FALSE,
max.iter=10,tol=1e-4,step=.1,
type="lasso",pars_pen=c(6:111)),silent=TRUE)
if(inherits(reg.out, "try-error")){
ret.mat[count,2] <- NA
}else{
loc <- which(reg.out[[2]][,"BIC"] == min(reg.out[[2]][,"BIC"]))
pars <- reg.out[[1]][loc,6:111]
ret.mat[count,2] <- sum(abs(pars[1:100]) > .001)
ret.mat[count,4] <- sum(reg.out[[2]][,"conv"] != 0)
}
reg.out
library(regsem)
install.packages("roxygen2")
wisc <- read.table("/Users/Ross/Documents/Github/random_code/wisc4vpe.dat")
wisc <- read.table("C:/Users/RJacobucci/Documents/GitHub/EDM_Labs/2015/wisc4vpe.dat")
wisc <- read.table("C:/Users/jacobucc/Documents/GitHub/EDM_Labs/2015/wisc4vpe.dat")
names(wisc)<- c("V1","V2","V4","V6","P1","P2","P4", "P6", "Moeducat")
library(regsem)
lds_1 <- "
#latent variables
lV1 =~ 1*V1
lV2 =~ 1*V2
lV4 =~ 1*V4
lV6 =~ 1*V6
#autoregressions
lV2 ~ 1*lV1; lV4 ~ 1*lV2; lV6 ~ 1*lV4
#change - delta; d
dV1 =~ 1*lV2; dV2 =~ 1*lV4; dV3 =~ 1*lV6
#intercept and slope
inV =~ 1*lV1;
#slope =~ alpha*dV1 + alpha*dV2 + alpha*dV3
# match lgm
slope =~ 1*dV1 + 2*dV2 + 2*dV3
#slope =~ 1.17*dV1 + alpha1*dV2 + alpha2*dV3
#manifest means @0
V1 ~ 0*1; V2 ~0*1; V4 ~ 0*1; V6 ~ 0*1
#slope and intercept means
slope ~ 1;
inV ~ 1;
#Latent variances and covariance
slope ~~ slope;
inV ~~ inV;
slope ~~ inV;
#means and vars @0
lV1 ~ 0*1; lV2 ~0*1; lV4 ~ 0*1; lV6 ~ 0*1
dV1 ~ 0*1; dV2 ~0*1; dV3 ~ 0*1
lV1 ~~ 0*lV1; lV2 ~~ 0*lV2; lV4 ~~ 0*lV4; lV6 ~~ 0*lV6
dV1 ~~ 0*dV1; dV2 ~~ 0*dV2; dV3 ~~ 0*dV3
#auVo-proportions
dV1 ~ beta*lV1; dV2 ~ beta*lV2; dV3 ~ beta*lV4;
#residuals equal
V1 ~~ resid*V1; V2 ~~ resid*V2; V4 ~~ resid*V4; V6 ~~ resid*V6;
"
fit.lds <- lavaan(lds_1, data=wisc)
summary(fit.lds,standardized=TRUE,fit=TRUE)
library(regsem)
### cross-validation ####
set.seed(1)
ids <- sample(1:nrow(wisc),120)
wisc.train <- wisc[ids,]
wisc.test <- wisc[-ids,]
fit.lds2 <- lavaan(lds_1, data=wisc.train)
summary(fit.lds2,standardized=TRUE)
cov9 <- cov(wisc.test[,1:4])
cov99 <- cov9 + colMeans(wisc.test[,1:4]) %*% t(colMeans(wisc.test[,1:4]))
cov999 = cbind(cov99,colMeans(wisc.test[,1:4]))
cov9999= rbind(cov999,append(colMeans(wisc.test[,1:4]),1))
out.cv <- cv_regsem(fit.lds2,n.lambda=16,mult.start=TRUE,jump=.05,multi.iter=200,warm.start=TRUE,
type="ridge", gradFun = "ram",pars_pen=c(3),fit.ret=c("chisq","df","rmsea","Fmin","CFI","TLI"),
optMethod="nlminb",test.cov=cov9999,fit.ret2="test")
out.cv
?cv_regsem
out.cv <- cv_regsem(fit.lds2,n.lambda=30,mult.start=TRUE,jump=.05,multi.iter=200,
warm.start=TRUE,nlminb.control=list(x.tol=1e-4,abs.tol=1e-4,rel.tol=1e-4),
type="ridge", gradFun = "ram",pars_pen=c(3),fit.ret=c("chisq","df","rmsea","Fmin","CFI","TLI"),
optMethod="nlminb",test.cov=cov9999,fit.ret2="test")
out.cv
out.cv <- cv_regsem(fit.lds2,n.lambda=60,mult.start=TRUE,jump=.03,multi.iter=200,
warm.start=TRUE,nlminb.control=list(x.tol=1e-4,abs.tol=1e-4,rel.tol=1e-4),
type="ridge", gradFun = "ram",pars_pen=c(3),fit.ret=c("chisq","df","rmsea","Fmin","CFI","TLI"),
optMethod="nlminb",test.cov=cov9999,fit.ret2="test")
out.cv
out.cv <- cv_regsem(fit.lds2,n.lambda=120,mult.start=TRUE,jump=.01,multi.iter=200,
warm.start=TRUE,nlminb.control=list(x.tol=1e-4,abs.tol=1e-4,rel.tol=1e-4),
type="ridge", gradFun = "ram",pars_pen=c(3),fit.ret=c("chisq","df","rmsea","Fmin","CFI","TLI"),
optMethod="nlminb",test.cov=cov9999,fit.ret2="test")
out.cv
sub <- c(1:102,105:112,115:120)
plot.new()
fits <- out.cv[[2]][sub,5:8]
fits2 <- data.frame(scale(fits,scale=FALSE))
plot(out.cv[[2]][,"lambda"],fits2[,1],type="l",ylim=c(-.075,.075),cex.lab=1.5,
lwd=2.5,col=colls[1],xlab="Lambda",ylab="Centered Fit",main="Cross Validated Fit")
plot(out.cv[[2]][sub,"lambda"],fits2[,1],type="l",ylim=c(-.075,.075),cex.lab=1.5,
lwd=2.5,col=colls[1],xlab="Lambda",ylab="Centered Fit",main="Cross Validated Fit")
colls <- rainbow_hcl(4)
library(colorspace)
install.packages("colorspace")
library(colorspace)
colls <- rainbow_hcl(4)
fits2 <- data.frame(scale(fits,scale=FALSE))
plot(out.cv[[2]][sub,"lambda"],fits2[,1],type="l",ylim=c(-.075,.075),cex.lab=1.5,
lwd=2.5,col=colls[1],xlab="Lambda",ylab="Centered Fit",main="Cross Validated Fit")
for(i in 1:3){
lines(out.cv[[2]][,"lambda"],fits2[,1+i],col=colls[i+1],lwd=2.5)
}
for(i in 1:3){
lines(out.cv[[2]][sub,"lambda"],fits2[,1+i],col=colls[i+1],lwd=2.5)
}
abline(h=0,lwd=3)
legend(x=.4,y=-.03,legend=c("RMSEA","Fmin","CFI","TLI"),col=colls,lty=1,cex=1.5,y.intersp=.8,lwd=4)
sub <- c(1:102)
plot.new()
fits <- out.cv[[2]][sub,5:8]
fits2 <- data.frame(scale(fits,scale=FALSE))
plot(out.cv[[2]][sub,"lambda"],fits2[,1],type="l",ylim=c(-.05,.05),cex.lab=1.5,
lwd=2.5,col=colls[1],xlab="Lambda",ylab="Centered Fit",main="Cross Validated Fit")
for(i in 1:3){
lines(out.cv[[2]][sub,"lambda"],fits2[,1+i],col=colls[i+1],lwd=2.5)
}
abline(h=0,lwd=3)
legend(x=.4,y=-.03,legend=c("RMSEA","Fmin","CFI","TLI"),col=colls,lty=1,cex=1.5,y.intersp=.8,lwd=4)
sub <- c(1:90)
plot.new()
fits <- out.cv[[2]][sub,5:8]
fits2 <- data.frame(scale(fits,scale=FALSE))
plot(out.cv[[2]][sub,"lambda"],fits2[,1],type="l",ylim=c(-.05,.05),cex.lab=1.5,
lwd=2.5,col=colls[1],xlab="Lambda",ylab="Centered Fit",main="Cross Validated Fit")
for(i in 1:3){
lines(out.cv[[2]][sub,"lambda"],fits2[,1+i],col=colls[i+1],lwd=2.5)
}
abline(h=0,lwd=3)
legend(x=.4,y=-.03,legend=c("RMSEA","Fmin","CFI","TLI"),col=colls,lty=1,cex=1.5,y.intersp=.8,lwd=4)
library(regsem)
out.cv <- cv_regsem(fit.lds2,n.lambda=200,mult.start=TRUE,jump=.005,multi.iter=200,
warm.start=TRUE,nlminb.control=list(x.tol=1e-4,abs.tol=1e-4,rel.tol=1e-4),
type="ridge", gradFun = "ram",pars_pen=c(3),fit.ret=c("chisq","df","rmsea","Fmin","CFI","TLI"),
optMethod="nlminb",test.cov=cov9999,fit.ret2="test")
out.cv
sub <- c(1:200)
plot.new()
fits <- out.cv[[2]][sub,5:8]
fits2 <- data.frame(scale(fits,scale=FALSE))
plot(out.cv[[2]][sub,"lambda"],fits2[,1],type="l",ylim=c(-.05,.05),cex.lab=1.5,
lwd=2.5,col=colls[1],xlab="Lambda",ylab="Centered Fit",main="Cross Validated Fit")
for(i in 1:3){
lines(out.cv[[2]][sub,"lambda"],fits2[,1+i],col=colls[i+1],lwd=2.5)
}
abline(h=0,lwd=3)
legend(x=.4,y=-.03,legend=c("RMSEA","Fmin","CFI","TLI"),col=colls,lty=1,cex=1.5,y.intersp=.8,lwd=4)
sub <- c(1:150)
plot.new()
fits <- out.cv[[2]][sub,5:8]
fits2 <- data.frame(scale(fits,scale=FALSE))
plot(out.cv[[2]][sub,"lambda"],fits2[,1],type="l",ylim=c(-.05,.05),cex.lab=1.5,
lwd=2.5,col=colls[1],xlab="Lambda",ylab="Centered Fit",main="Cross Validated Fit")
for(i in 1:3){
lines(out.cv[[2]][sub,"lambda"],fits2[,1+i],col=colls[i+1],lwd=2.5)
}
abline(h=0,lwd=3)
legend(x=.4,y=-.03,legend=c("RMSEA","Fmin","CFI","TLI"),col=colls,lty=1,cex=1.5,y.intersp=.8,lwd=4)
out.cv <- cv_regsem(fit.lds2,n.lambda=100,mult.start=TRUE,jump=.01,multi.iter=200,
warm.start=TRUE,nlminb.control=list(x.tol=1e-4,abs.tol=1e-4,rel.tol=1e-4),
type="ridge", gradFun = "ram",pars_pen=c(3),fit.ret=c("chisq","df","rmsea","Fmin","CFI","TLI"),
optMethod="nlminb",test.cov=cov9999,fit.ret2="test")
sub <- c(1:100)
plot.new()
fits <- out.cv[[2]][sub,5:8]
fits2 <- data.frame(scale(fits,scale=FALSE))
plot(out.cv[[2]][sub,"lambda"],fits2[,1],type="l",ylim=c(-.05,.05),cex.lab=1.5,
lwd=2.5,col=colls[1],xlab="Lambda",ylab="Centered Fit",main="Cross Validated Fit")
for(i in 1:3){
lines(out.cv[[2]][sub,"lambda"],fits2[,1+i],col=colls[i+1],lwd=2.5)
}
abline(h=0,lwd=3)
legend(x=.4,y=-.03,legend=c("RMSEA","Fmin","CFI","TLI"),col=colls,lty=1,cex=1.5,y.intersp=.8,lwd=4)
sub <- c(1:90)
plot.new()
fits <- out.cv[[2]][sub,5:8]
fits2 <- data.frame(scale(fits,scale=FALSE))
plot(out.cv[[2]][sub,"lambda"],fits2[,1],type="l",ylim=c(-.05,.05),cex.lab=1.5,
lwd=2.5,col=colls[1],xlab="Lambda",ylab="Centered Fit",main="Cross Validated Fit")
for(i in 1:3){
lines(out.cv[[2]][sub,"lambda"],fits2[,1+i],col=colls[i+1],lwd=2.5)
}
abline(h=0,lwd=3)
legend(x=.4,y=-.03,legend=c("RMSEA","Fmin","CFI","TLI"),col=colls,lty=1,cex=1.5,y.intersp=.8,lwd=4)
library(regsem)
sim.mod <- "
#latent variables
lX1 =~ 1*X1
lX2 =~ 1*X2
lX3 =~ 1*X3
lX4 =~ 1*X4
lX5 =~ 1*X5
lX6 =~ 1*X6
#autoregressions
lX2 ~ 1*lX1; lX3 ~ 1*lX2; lX4 ~ 1*lX3; lX5 ~ 1*lX4; lX6 ~ 1*lX5
#change - delta; d
dX1 =~ 1*lX2; dX2 =~ 1*lX3; dX3 =~ 1*lX4; dX4 =~ 1*lX5; dX5 =~ 1*lX6
#intercept and slope
inV =~ 1*lX1;
slope =~ 1*dX1 + 1*dX2 + 1*dX3 + 1*dX4 + 1*dX5
#manifest means @0
X1 ~ 0*1; X2 ~0*1; X3 ~ 0*1; X4 ~ 0*1; X5 ~ 0*1; X6 ~ 0*1
#slope and intercept means
slope ~ 1*1;
inV ~ 1*1;
#Latent variances and covariance
slope ~~ 0.5*slope;
inV ~~ 0.5*inV;
slope ~~ 0.5*inV;
#means and vars @0
lX1 ~ 0*1; lX2 ~0*1; lX3 ~ 0*1; lX4 ~ 0*1;lX5 ~ 0*1; lX6 ~ 0*1
dX1 ~ 0*1; dX2 ~0*1; dX3 ~ 0*1; dX4 ~0*1; dX5 ~ 0*1
lX1 ~~ 0*lX1; lX2 ~~ 0*lX2; lX3 ~~ 0*lX3; lX4 ~~ 0*lX4;lX5 ~~ 0*lX5; lX6 ~~ 0*lX6
dX1 ~~ 0*dX1; dX2 ~~ 0*dX2; dX3 ~~ 0*dX3; dX4 ~~ 0*dX4; dX5 ~~ 0*dX5
#auVo-proportions
dX1 ~ 0.5*lX1; dX2 ~ 0.5*lX2; dX3 ~ 1.5*lX3;dX4 ~ 1.5*lX4;dX5 ~ 1.5*lX5;
#residuals equal
X1 ~~ 1*X1; X2 ~~ 1*X2; X3 ~~ 1*X3; X4 ~~ 1*X4;X5 ~~ 1*X5;X6 ~~ 1*X6;
"
set.seed(1)
dat <- simulateData(sim.mod,model.type="lavaan")
################ run model ###############3
lds_1 <- "
#latent variables
lX1 =~ 1*X1
lX2 =~ 1*X2
lX3 =~ 1*X3
lX4 =~ 1*X4
lX5 =~ 1*X5
lX6 =~ 1*X6
#autoregressions
lX2 ~ 1*lX1; lX3 ~ 1*lX2; lX4 ~ 1*lX3; lX5 ~ 1*lX4; lX6 ~ 1*lX5
#change - delta; d
dX1 =~ 1*lX2; dX2 =~ 1*lX3; dX3 =~ 1*lX4; dX4 =~ 1*lX5; dX5 =~ 1*lX6
#intercept and slope
inV =~ 1*lX1;
slope =~ 1*dX1 + 1*dX2 + 1*dX3 + 1*dX4 + 1*dX5
#manifest means @0
X1 ~ 0*1; X2 ~0*1; X3 ~ 0*1; X4 ~ 0*1; X5 ~ 0*1; X6 ~ 0*1
#slope and intercept means
slope ~ 1;
inV ~ 1;
#Latent variances and covariance
slope ~~ slope;
inV ~~ inV;
slope ~~ inV;
#means and vars @0
lX1 ~ 0*1; lX2 ~0*1; lX3 ~ 0*1; lX4 ~ 0*1;lX5 ~ 0*1; lX6 ~ 0*1
dX1 ~ 0*1; dX2 ~0*1; dX3 ~ 0*1; dX4 ~0*1; dX5 ~ 0*1
lX1 ~~ 0*lX1; lX2 ~~ 0*lX2; lX3 ~~ 0*lX3; lX4 ~~ 0*lX4;lX5 ~~ 0*lX5; lX6 ~~ 0*lX6
dX1 ~~ 0*dX1; dX2 ~~ 0*dX2; dX3 ~~ 0*dX3; dX4 ~~ 0*dX4; dX5 ~~ 0*dX5
#auVo-proportions
dX1 ~ beta1*lX1; dX2 ~ beta2*lX2; dX3 ~ beta3*lX3;dX4 ~ beta4*lX4;dX5 ~ beta5*lX5;
#residuals equal
X1 ~~ resid*X1; X2 ~~ resid*X2; X3 ~~ resid*X3; X4 ~~ resid*X4;X5 ~~ resid*X5;X6 ~~ resid*X6;
"
fit.lds <- lavaan(lds_1, data=dat)
summary(fit.lds)
out <- regsem(fit.lds,lambda=0.0001,pars_pen=c(3:7),type="diff_lasso",step=.5,step.ratio=TRUE,diff_par=1.5,
optMethod="coord_desc",gradFun="ram",max.iter=2000,tol=1e-6)
library(regsem)
out <- regsem(fit.lds,lambda=0.0001,pars_pen=c(3:7),type="diff_lasso",step=.5,step.ratio=TRUE,diff_par=1.5,
optMethod="coord_desc",gradFun="ram",max.iter=2000,tol=1e-6)
library(regsem)
out <- regsem(fit.lds,lambda=0.0001,pars_pen=c(3:7),type="diff_lasso",step=.5,step.ratio=TRUE,diff_par=1.5,
optMethod="coord_desc",gradFun="ram",max.iter=2000,tol=1e-6)
?regsem
out <- regsem(fit.lds,lambda=0.0001,pars_pen=c(3:7),type="diff_lasso",step=.5,step.ratio=TRUE,diff_par=1.5,
optMethod="coord_desc",gradFun="ram",max.iter=2000,tol=1e-6,full=FALSE)
library(regsem)
out <- regsem(fit.lds,lambda=0.0001,pars_pen=c(3:7),type="diff_lasso",step=.5,step.ratio=TRUE,diff_par=1.5,
optMethod="coord_desc",gradFun="ram",max.iter=2000,tol=1e-6,full=FALSE)
library(regsem)
out <- regsem(fit.lds,lambda=0.0001,pars_pen=c(3:7),type="diff_lasso",step=.5,step.ratio=TRUE,diff_par=1.5,
optMethod="coord_desc",gradFun="ram",max.iter=2000,tol=1e-6,full=FALSE)
out <- regsem(fit.lds,lambda=0,pars_pen=c(3:7),type="diff_lasso",step=.5,step.ratio=TRUE,diff_par=1.5,
optMethod="coord_desc",gradFun="ram",max.iter=2000,tol=1e-6,full=FALSE)
summary(out);out$iteration
out <- regsem(fit.lds,lambda=0.01,pars_pen=c(3:7),type="diff_lasso",step=.5,step.ratio=TRUE,diff_par=1.5,
optMethod="coord_desc",gradFun="ram",max.iter=2000,tol=1e-6,full=FALSE)
out <- regsem(fit.lds,lambda=0.01,pars_pen=c(3:7),type="diff_lasso",step=.5,step.ratio=TRUE,diff_par=1.5,
optMethod="coord_desc",gradFun="ram",max.iter=2000,tol=1e-4)
library(regsem)
library(regsem)
library(regsem)
out <- regsem(fit.lds,lambda=0.01,pars_pen=c(3:7),type="diff_lasso",step=.5,step.ratio=TRUE,diff_par=1.5,
optMethod="coord_desc",gradFun="ram",max.iter=2000,tol=1e-4)
out <- regsem(fit.lds,lambda=0.01,pars_pen=c(3:7),type="diff_lasso",step=.5,step.ratio=TRUE,diff_par=1.5,
optMethod="coord_desc",gradFun="ram",max.iter=2000,tol=1e-4,full=FALSE)
library(regsem)
out <- regsem(fit.lds,lambda=0.01,pars_pen=c(3:7),type="diff_lasso",step=.5,step.ratio=TRUE,diff_par=1.5,
optMethod="coord_desc",gradFun="ram",max.iter=2000,tol=1e-4,full=FALSE)
library(regsem)
out <- regsem(fit.lds,lambda=0.01,pars_pen=c(3:7),type="diff_lasso",step=.5,step.ratio=TRUE,diff_par=1.5,
optMethod="coord_desc",gradFun="ram",max.iter=2000,tol=1e-4,full=FALSE)
library(regsem)
out <- regsem(fit.lds,lambda=0.01,pars_pen=c(3:7),type="diff_lasso",step=.5,step.ratio=TRUE,diff_par=1.5,
optMethod="coord_desc",gradFun="ram",max.iter=2000,tol=1e-4,full=FALSE)
library(regsem)
library(regsem)
out <- regsem(fit.lds,lambda=0.01,pars_pen=c(3:7),type="diff_lasso",step=.5,step.ratio=TRUE,diff_par=1.5,
optMethod="coord_desc",gradFun="ram",max.iter=2000,tol=1e-4,full=FALSE)
library(regsem)
out <- regsem(fit.lds,lambda=0.01,pars_pen=c(3:7),type="diff_lasso",step=.5,step.ratio=TRUE,diff_par=1.5,
optMethod="coord_desc",gradFun="ram",max.iter=2000,tol=1e-4,full=FALSE)
library(regsem)
library(regsem)
out <- regsem(fit.lds,lambda=0.01,pars_pen=c(3:7),type="diff_lasso",step=.5,step.ratio=TRUE,diff_par=1.5,
optMethod="coord_desc",gradFun="ram",max.iter=2000,tol=1e-4,full=FALSE)
library(regsem)
out <- regsem(fit.lds,lambda=0.01,pars_pen=c(3:7),type="diff_lasso",step=.5,step.ratio=TRUE,diff_par=1.5,
optMethod="coord_desc",gradFun="ram",max.iter=10,tol=1e-4,full=FALSE)
summary(fit.lds)
library(regsem)
out <- regsem(fit.lds,lambda=0.01,pars_pen=c(3:7),type="diff_lasso",step=.5,step.ratio=TRUE,diff_par=1.5,
optMethod="coord_desc",gradFun="ram",max.iter=2,tol=1e-4,full=FALSE)
library(regsem)
out <- regsem(fit.lds,lambda=0.01,pars_pen=c(3:7),type="diff_lasso",step=.5,step.ratio=TRUE,diff_par=1.5,
optMethod="coord_desc",gradFun="ram",max.iter=2,tol=1e-4,full=FALSE)
library(regsem)
out <- regsem(fit.lds,lambda=0.01,pars_pen=c(3:7),type="diff_lasso",step=.5,step.ratio=TRUE,diff_par=1.5,
optMethod="coord_desc",gradFun="ram",max.iter=2,tol=1e-4,full=FALSE)
library(regsem)
out <- regsem(fit.lds,lambda=0.01,pars_pen=c(3:7),type="diff_lasso",step=.5,step.ratio=TRUE,diff_par=1.5,
optMethod="coord_desc",gradFun="ram",max.iter=2,tol=1e-4,full=FALSE)
library(regsem)
out <- regsem(fit.lds,lambda=0.01,pars_pen=c(3:7),type="diff_lasso",step=.5,step.ratio=TRUE,diff_par=1.5,
optMethod="coord_desc",gradFun="ram",max.iter=20,tol=1e-4,full=FALSE)
out <- regsem(fit.lds,lambda=0.03,pars_pen=c(3:7),type="diff_lasso",step=.5,step.ratio=TRUE,diff_par=1.5,
optMethod="coord_desc",gradFun="ram",max.iter=20,tol=1e-4,full=FALSE)
library(regsem)
out <- regsem(fit.lds,lambda=0.03,pars_pen=c(3:7),type="diff_lasso",step=.5,step.ratio=TRUE,diff_par=1.5,
optMethod="coord_desc",gradFun="ram",max.iter=5,tol=1e-4,full=FALSE)
summary(out);out$iteration
out <- regsem(fit.lds,lambda=0.03,pars_pen=c(3:7),type="diff_lasso",step=.5,step.ratio=TRUE,diff_par=1.5,
optMethod="coord_desc",gradFun="ram",max.iter=20,tol=1e-4,full=FALSE)
library(regsem)
out <- regsem(fit.lds,lambda=0.03,pars_pen=c(3:7),type="diff_lasso",step=.5,step.ratio=TRUE,diff_par=1.5,
optMethod="coord_desc",gradFun="ram",max.iter=20,tol=1e-4,full=FALSE)
summary(out);out$iteration
out <- regsem(fit.lds,lambda=0.03,pars_pen=c(3:7),type="diff_lasso",step=.5,step.ratio=TRUE,diff_par=1.5,
optMethod="coord_desc",gradFun="ram",max.iter=200,tol=1e-4,full=FALSE)
summary(out);out$iteration
library(regsem)
out <- regsem(fit.lds,lambda=0.03,pars_pen=c(3:7),type="diff_lasso",step=.5,step.ratio=TRUE,diff_par=1.5,
optMethod="coord_desc",gradFun="ram",max.iter=5,tol=1e-4,full=FALSE)
library(regsem)
out <- regsem(fit.lds,lambda=0.03,pars_pen=c(3:7),type="diff_lasso",step=.5,step.ratio=TRUE,diff_par=1.5,
optMethod="coord_desc",gradFun="ram",max.iter=5,tol=1e-4,full=FALSE)
library(regsem)
out <- regsem(fit.lds,lambda=0.03,pars_pen=c(3:7),type="diff_lasso",step=.5,step.ratio=TRUE,diff_par=1.5,
optMethod="coord_desc",gradFun="ram",max.iter=5,tol=1e-4,full=FALSE)
summary(fit.lds)
library(regsem)
out <- regsem(fit.lds,lambda=0.03,pars_pen=c(3:7),type="diff_lasso",step=.5,step.ratio=TRUE,diff_par=1.5,
optMethod="coord_desc",gradFun="ram",max.iter=1,tol=1e-4,full=FALSE)
-.102- -.103
library(regsem)
out <- regsem(fit.lds,lambda=0.03,pars_pen=c(3:7),type="diff_lasso",step=.5,step.ratio=TRUE,diff_par=1.5,
optMethod="coord_desc",gradFun="ram",max.iter=1,tol=1e-4,full=FALSE)
library(regsem)
out <- regsem(fit.lds,lambda=0.03,pars_pen=c(3:7),type="diff_lasso",step=.5,step.ratio=TRUE,diff_par=1.5,
optMethod="coord_desc",gradFun="ram",max.iter=1,tol=1e-4,full=FALSE)
out <- regsem(fit.lds,lambda=0.03,pars_pen=c(3:7),type="diff_lasso",step=.5,step.ratio=TRUE,diff_par=1.5,
optMethod="coord_desc",gradFun="ram",max.iter=30,tol=1e-4,full=FALSE)
library(regsem)
out <- regsem(fit.lds,lambda=0.03,pars_pen=c(3:7),type="diff_lasso",step=.5,step.ratio=TRUE,diff_par=1.5,
optMethod="coord_desc",gradFun="ram",max.iter=30,tol=1e-4,full=FALSE)
library(regsem)
library(regsem)
out <- regsem(fit.lds,lambda=0.03,pars_pen=c(3:7),type="diff_lasso",step=.5,step.ratio=TRUE,diff_par=1.5,
optMethod="coord_desc",gradFun="ram",max.iter=3,tol=1e-4,full=FALSE)
library(regsem)
out <- regsem(fit.lds,lambda=0.03,pars_pen=c(3:7),type="diff_lasso",step=.5,step.ratio=TRUE,diff_par=1.5,
optMethod="coord_desc",gradFun="ram",max.iter=3,tol=1e-4,full=FALSE)
library(regsem)
out <- regsem(fit.lds,lambda=0.03,pars_pen=c(3:7),type="diff_lasso",step=.5,step.ratio=TRUE,diff_par=1.5,
optMethod="coord_desc",gradFun="ram",max.iter=3,tol=1e-4,full=FALSE)
library(regsem)
library(regsem)
out <- regsem(fit.lds,lambda=0.03,pars_pen=c(3:7),type="diff_lasso",step=.5,step.ratio=TRUE,diff_par=1.5,
optMethod="coord_desc",gradFun="ram",max.iter=3,tol=1e-4,full=FALSE)
library(regsem)
out <- regsem(fit.lds,lambda=0.03,pars_pen=c(3:7),type="diff_lasso",step=.5,step.ratio=TRUE,diff_par=1.5,
optMethod="coord_desc",gradFun="ram",max.iter=3,tol=1e-4,full=FALSE)
library(regsem)
out <- regsem(fit.lds,lambda=0.03,pars_pen=c(3:7),type="diff_lasso",step=.5,step.ratio=TRUE,diff_par=1.5,
optMethod="coord_desc",gradFun="ram",max.iter=3,tol=1e-4,full=FALSE)
library(regsem)
out <- regsem(fit.lds,lambda=0.03,pars_pen=c(3:7),type="diff_lasso",step=.5,step.ratio=TRUE,diff_par=1.5,
optMethod="coord_desc",gradFun="ram",max.iter=3,tol=1e-4,full=FALSE)
library(regsem)
library(regsem)
out <- regsem(fit.lds,lambda=0.03,pars_pen=c(3:7),type="diff_lasso",step=.5,step.ratio=TRUE,diff_par=1.5,
optMethod="coord_desc",gradFun="ram",max.iter=3,tol=1e-4,full=FALSE)
out <- regsem(fit.lds,lambda=0.03,pars_pen=c(3:7),type="diff_lasso",step=.5,step.ratio=TRUE,diff_par=1.5,
optMethod="coord_desc",gradFun="ram",max.iter=30,tol=1e-4,full=FALSE)
summary(out);out$iteration
out <- regsem(fit.lds,lambda=0.03,pars_pen=c(3:7),type="diff_lasso",step=.5,step.ratio=TRUE,diff_par=1.5,
optMethod="coord_desc",gradFun="ram",max.iter=3,tol=1e-4,full=FALSE)
library(regsem)
out <- regsem(fit.lds,lambda=0.03,pars_pen=c(3:7),type="diff_lasso",step=.5,step.ratio=TRUE,diff_par=1.5,
optMethod="coord_desc",gradFun="ram",max.iter=3,tol=1e-4,full=FALSE)
summary(out);out$iteration
library(regsem)
out <- regsem(fit.lds,lambda=0.03,pars_pen=c(3:7),type="diff_lasso",step=.5,step.ratio=TRUE,diff_par=1.5,
optMethod="coord_desc",gradFun="ram",max.iter=3,tol=1e-4,full=FALSE)
summary(out);out$iteration
out <- regsem(fit.lds,lambda=0.03,pars_pen=c(3:7),type="diff_lasso",step=.5,step.ratio=TRUE,diff_par=1.5,
optMethod="coord_desc",gradFun="ram",max.iter=3,tol=1e-4,full=FALSE)
library(regsem)
out <- regsem(fit.lds,lambda=0.03,pars_pen=c(3:7),type="diff_lasso",step=.5,step.ratio=TRUE,diff_par=1.5,
optMethod="coord_desc",gradFun="ram",max.iter=3,tol=1e-4,full=FALSE)
summary(out);out$iteration
out <- regsem(fit.lds,lambda=0.03,pars_pen=c(3:7),type="diff_lasso",step=1,step.ratio=TRUE,diff_par=1.5,
optMethod="coord_desc",gradFun="ram",max.iter=3,tol=1e-4,full=FALSE)
summary(out);out$iteration
summary(fit.lds)
library(regsem)
